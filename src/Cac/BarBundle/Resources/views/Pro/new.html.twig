{% extends "::baseNewBar.html.twig" %}

{% block title %}CacBarBundle:Bar:new{% endblock %}
{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{{ asset('css/bootstrap.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/main.css')}}">
    <link rel="stylesheet" type="text/css" href="{{ asset('css/clockpicker.css')}}">
    <link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500">
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=places"></script>
{% endblock %}
{% block body %}

<form action="{{ path('bar_create') }}" name="cac_barbundle_bar" {{ form_enctype(form) }} method="POST" class="ac-custom ac-checkbox ac-cross">
<div class="row">
	

	<div class="col-xs-12 col-sm-12 col-md-12">
		<div class="ongletNewBar col-xs-2 col-sm-2 col-md-2 noPadding">
			<div class="progressionCreation">
				
				<div class="progresseBarContent">
					<div class="progresseBar">
						<p>25%</p>
					</div>
				</div>
			</div>
			<div class="ongletCreation selectedOngletCreation" id="etablissement">
				<p>Votre établissement</p>
			</div>
			<div class="ongletCreation" id="photo">
				<p>Vos photos et vos offres</p>
			</div>
			<div class="ongletCreation" id="formule">
				<p>Votre formule</p>
			</div>
		</div>
		<div class="contentNewBar col-xs-10 col-sm-10 col-md-10 noPadding">
			<div class="nameNewBar">
				{{ form_errors(form.name) }}
				{{ form_widget(form.name) }}
				<div id="finalName" class="hidden"></div>
			</div>
			<div id="map-canvas"></div>
			<div class="CreationBar col-xs-12 col-sm-12 col-md-12 noPadding">
				<div class="AdresseAndDresscode">
					<div class="col-xs-6 col-sm-6 col-md-4 col-md-offset-2">		
						{{ form_label(form.adress) }}<span>*</span>
						<br>
						{{ form_errors(form.adress) }}
						{{ form_widget(form.adress) }}

						{{ form_widget(form.geocode) }}

						<div class="completionAdresse">
							{{ form_label(form.zipcode) }}
							<br>
							{{ form_errors(form.zipcode) }}
							{{ form_widget(form.zipcode, { 'id': 'postal_code' }) }}
							<br>
							{{ form_label(form.town) }}
							<br>
							{{ form_errors(form.town) }}
							{{ form_widget(form.town, { 'id': 'locality' } ) }}
							<br>
							{{ form_label(form.region) }}
							<br>
							{{ form_errors(form.region) }}
							{{ form_widget(form.region, { 'id': 'administrative_area_level_1' } ) }}
							<br>
							{{ form_label(form.country) }}
							<br>
							{{ form_errors(form.country) }}
							{{ form_widget(form.country, { 'id': 'country' }) }}
						</div>
					</div>
					<div class="col-xs-6 col-sm-6 col-md-4">
						{{ form_label(form.dressCode) }}<span>*</span>
						<br>
						{{ form_errors(form.dressCode) }}
						{{ form_widget(form.dressCode) }}
					</div>
				</div>
				
				<div class="col-xs-0 col-sm-0 col-md-2"></div>

				<div class="tarifMoyenNewBar col-xs-12 col-sm-12 col-md-8 col-md-offset-2">
					<p>Les tarifs moyens (hors promotion)</p>
					<div class="row">
						<div class="col-xs-6 col-sm-3 col-md-3">
							{{ form_label(form.beerPrice) }}<span>*</span>
							<br>
							{{ form_errors(form.beerPrice) }}
							{{ form_widget(form.beerPrice) }}
						</div>
						<div class="col-xs-6 col-sm-3 col-md-3">
							{{ form_label(form.cocktailPrice) }}<span>*</span>
							<br>
							{{ form_errors(form.cocktailPrice) }}
							{{ form_widget(form.cocktailPrice) }}
						</div>
						<div class="col-xs-6 col-sm-3 col-md-3">
							{{ form_label(form.softPrice) }}<span>*</span>
							<br>
							{{ form_errors(form.softPrice) }}
							{{ form_widget(form.softPrice) }}
						</div>
						<div class="col-xs-6 col-sm-3 col-md-3">
							{{ form_label(form.coffeePrice) }}<span>*</span>
							<br>
							{{ form_errors(form.coffeePrice) }}
							{{ form_widget(form.coffeePrice) }}
						</div>
					</div>
				</div>

				<div class="servicesNewBar col-xs-12 col-sm-12 col-md-8 col-md-offset-2">
					<p>Vos services</p>
					<br>
					<div class="choiceService col-xs-5 col-xs-offset-1 col-sm-4 col-sm-offset-2 col-md-4 col-md-offset-2 noPadding">
						<div class="myService">
							{{ form_errors(form.valet) }}
							{{ form_widget(form.valet) }}
							{{ form_label(form.valet) }}
							{{ form_errors(form.valet) }}
							{{ form_widget(form.valetCost) }}
						</div>
						<div class="myService">
							{{ form_errors(form.handicappedAccess) }}
							{{ form_widget(form.handicappedAccess) }}
							{{ form_label(form.handicappedAccess) }}
						</div>
						<div class="myService">
							{{ form_errors(form.patio) }}
							{{ form_widget(form.patio) }}
							{{ form_label(form.patio) }}
						</div>
						<div class="myService">
							{{ form_errors(form.babyfoot) }}
							{{ form_widget(form.babyfoot) }}
							{{ form_label(form.babyfoot) }}
						</div>
						<div class="myService">
							{{ form_errors(form.clim) }}
							{{ form_widget(form.clim) }}
							{{ form_label(form.clim) }}
						</div>
					</div>
					<div class="choiceService right col-xs-5 col-sm-4 col-md-4 noPadding">
						<div class="myService">
							{{ form_errors(form.canape) }}
							{{ form_widget(form.canape) }}
							{{ form_label(form.canape) }}
						</div>
						<div class="myService">
							{{ form_errors(form.billard) }}
							{{ form_widget(form.billard) }}
							{{ form_label(form.billard) }}
						</div>
						<div class="myService">
							{{ form_errors(form.flipper) }}
							{{ form_widget(form.flipper) }}
							{{ form_label(form.flipper) }}
						</div>
						<div class="myService">
							{{ form_errors(form.breathalyser) }}
							{{ form_widget(form.breathalyser) }}
							{{ form_label(form.breathalyser) }}
						</div>
						<div class="myService">
							{{ form_errors(form.smokingArea) }}
							{{ form_widget(form.smokingArea) }}
							{{ form_label(form.smokingArea) }}
						</div>
					</div>
					

				</div>
				<div class="servicesNewBar heureNewBar col-xs-12 col-sm-12 col-md-8 col-md-offset-2">
					<p>Vos horaires<span>*</span></p>

					{{ form_errors(form.schedule) }}
					{{ form_widget(form.schedule) }}
					
					{% set days = {'1': 'Lundi', '2': 'Mardi', '3': 'Mercredi', '4': 'Jeudi', '5': 'Vendredi', '6': 'Samedi', '7': 'Dimanche'} %}
					{% set params = {'1': {'when':'open', 'word': 'de'}, '2': {'when':'close', 'word': 'à'}} %}
					{% for j in 1..7 %}
					<div class="heure center col-xs-12 col-sm-12 col-md-12 noPadding">
						<div class="textRight col-xs-3 col-sm-3 col-md-2 noPadding">
							{{ days[j] }}
						</div>

						{% for k in 1..2 %}
							<div class="col-xs-1 col-sm-1 col-md-1">
								{{ params[k]['word'] }}
							</div>
							<div class="col-xs-2 col-sm-2 col-md-2 noPadding">
								<select class="schedule-picker" data-day="{{ days[j] }}" data-when="{{ params[k]['when'] }}">
									<option></option>
									<option value="0">Minuit</option>
									{% for i in 1..23 %}
									    <option value="{{i}}">{{i}}h</option>
									{% endfor %}
								</select>
							</div>
						{% endfor %}

						<div class="col-xs-3 col-sm-3 col-md-3 noPadding">
							<div class="myService">
								<input class="close-day" type="checkbox" data-day="{{ days[j] }}" name="close-day">
								<label>Fermé</label>
							</div>
						</div>
					</div>
					{% endfor %}

				</div>

				<div class="clear"></div>

				<div class="descriptionNewBar col-xs-12 col-sm-12 col-md-8 col-md-offset-2">

					{{ form_label(form.description) }}
					<br>
					{{ form_errors(form.description) }}
					{{ form_widget(form.description) }}

					{{ form_widget(form._token) }}
					<div class="btn-submitNewBar">
				        <input type="submit" value="Poursuivre">
				    </div>
				</div>
				
			</div>

		</div>
	</div>
	<div class="clear"></div>
</div>
</form>
	
{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/autocomplete-adress.js') }}" type="text/javascript" /></script>
    <script src="{{ asset('js/modernizr.custom.js') }}" type="text/javascript" /></script>
    <script src="{{ asset('js/svgcheckbx.js') }}" type="text/javascript" /></script>

	<script>
		$(document).ready(function() {
			$('#cac_barbundle_bar_name').on('blur', function() {
				var name = $('#cac_barbundle_bar_name').val();
				if(name != ""){
					$('#finalName').html(name).removeClass('hidden');
					$(this).addClass('hidden');
				}
			});
			$('#finalName').on('click', function() {
				$(this).addClass('hidden');
				$('#cac_barbundle_bar_name').removeClass('hidden').focus();
			});
		});
	</script>
{% endblock %}
