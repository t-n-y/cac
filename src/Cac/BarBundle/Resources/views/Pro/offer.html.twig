{% extends "::basepro.html.twig" %}

{% block title %}CacBarBundle:Bar:show{% endblock %}

{% block body %}
		<div class="topBarPro col-xs-12 col-sm-12 col-md-12 noPadding">
			<img src="{{ asset('uploads/bar/'~bar.path) }}">
			<div class="infoNameBar">
				<h1>{{ bar.name }}</h1>
			</div>
		</div>

		<div class="onglets col-xs-12 col-sm-12 col-md-12 noPadding">
			<h2>Vos offres</h2>
		</div>
		<div class="onglets col-xs-12 col-sm-12 col-md-12 noPadding">
			<div class="onglet ongletVerresOffert col-xs-6 col-sm-6 col-md-6 noPadding">
				<p>Gestion des offres</p>
			</div>
			<div class="onglet ongletVerresPromotion col-xs-6 col-sm-6 col-md-6 noPadding">
				<p>Gestion des parrainage</p>
			</div>
		</div>
		<div class="daysOngletNewBar">
			{% set day = {
				'1': 'Lundi', 
				'2': 'Mardi', 
				'3': 'Mercredi', 
				'4': 'Jeudi', 
				'5': 'Vendredi', 
				'6': 'Samedi', 
				'7': 'Dimanche'
			} %}
			{% for i in 1..7 %}
				<div class="dayOngletNewBar borderDayOngletNewBar" data-dayselected='{{i}}'>
					{{ day[i] }}
				</div>
			{% endfor %}
		</div>

		<div class="coteneurBackOfficeBar col-xs-12 col-sm-12 col-md-12 noPadding">
			<div class="superContentBackOffice noPadding">
			{#  {{ form_start(edit_form) }}
      			{{ form_errors(edit_form) }} #}
				<div class="row">
				{% set days = {
					'1': 'Lundi', 
					'2': 'Mardi', 
					'3': 'Mercredi', 
					'4': 'Jeudi', 
					'5': 'Vendredi', 
					'6': 'Samedi', 
					'7': 'Dimanche'
				} %}

				{% set params = {
					'1': {
						'when':'beginning', 
						'word': 'de'
					}, 
					'2': {
						'when':'ending', 
						'word': 'à'
					}
				} %}
				{% for j in 1..7 %}

					<div class="promoHappyHour">
						<div class="col-xs-12 col-sm-6 col-md-6">
							<div class="contentBackOfficeBar">
								<div class="etapePromotion">
									<p>Promo du {{ days[j] }}</p>
									<div class="row">

										<div class="center valuePromo">
											<select class="promotion-value-picker" data-day="{{ days[j] }}">
												{% if bar.getPromotionByDay(days[j]).getOption('value').value == 0 %}
													<option value="0">Pas de promo</option>
												{% else %}
													<option value="{{ bar.getPromotionByDay(days[j]).getOption('value').value }}">{{ bar.getPromotionByDay(days[j]).getOption('value').value }}%</option>
												{% endif %}
												{% for i in 2..6 %}
												    <option value="{{i}}0">{{i}}0%</option>
												{% endfor %}
											</select>
										</div>
									</div>
									<div class="row">
										<div class="center nbpromo col-xs-12 col-sm-12 col-md-12 noPadding">
											<p>Nombre d'offres disponibles</p>
											<select class="promotion-qt-picker" data-day="{{ days[j] }}">
												<option value="Illimité">{{ bar.getPromotionByDay(days[j]).getOption('quantity').value }}</option>

												{% set nbVerrePromo = {
													'1': '10', 
													'2': '20', 
													'3': '30', 
													'4': '40', 
													'5': '50',
													'6': '100'
												} %}
												{% for k in 1..6 %}
												<option value="{{nbVerrePromo[k]}}">
													{{nbVerrePromo[k]}}
												</option>
												{% endfor %}
											</select>
										</div>
									</div>
								</div>
							</div>
						</div>

						<div class="col-xs-12 col-sm-6 col-md-6">
							<div class="contentBackOfficeBar">
								<div class="happyHours center">
									<p>HAPPY HOURS</p>
									<div class="row">
										<div class="center valuePromo">
											<select class="hh-value-picker" data-day="{{ days[j] }}">
											{% if bar.getHappyHourByDay(days[j]).getOption('value').value == 0 %}
												<option value="0">Pas de Happy Hour</option>
											{% else %}
												<option value="{{ bar.getHappyHourByDay(days[j]).getOption('value').value }}">{{ bar.getHappyHourByDay(days[j]).getOption('value').value }}%</option>
											{% endif %}
												{% for i in 3..7 %}
												    <option value="{{i}}0">{{i}}0%</option>
												{% endfor %}
											</select>
										</div>
									</div>
									<div class="row">
										<div class="center nbpromo happyhoursTime col-xs-12 col-sm-12 col-md-12 noPadding">
											{% for k in 1..2 %}
													<p>{{ params[k]['word'] }}</p>

													<select class="hh-picker" data-day="{{ days[j] }}" data-when="{{ params[k]['when'] }}">
														<option value="{{ bar.getHappyHourByDay(days[j]).getOption(params[k]['when']).value }}">{{ bar.getHappyHourByDay(days[j]).getOption(params[k]['when']).value }}h</option>
														{% for i in 0..23 %}
														    <option value="{{i}}">{{i}}h</option>
														{% endfor %}
													</select>

											{% endfor %}
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
					{% endfor %}
				</div>
				
				<!-- <div class="informationBar">
					<div class="gestion gestionVerreOffert col-xs-12 col-sm-12 col-md-12">
						<h2>Nombres de verres disponibles à l'offre</h2>
						<select class="promotion-qt-picker height40" data-day="{{ today }}">
							{% for number in lists.drinkNumber %}
								<option value="{{ number }}">{{ number }}</option>
							{% endfor %}
						</select>
						<p class="padding40">Condition*</p>
						<select>
							{% for restriction in restrictions %}
							<option value="{{ restriction.value }}">{{ restriction.name }}</option>
							{% endfor %}
						</select>


						<h2>Validité des verres offerts</h2>
						
						<select class="promotion-qt-picker height40">
							{% for duration in lists.drinkDuration %}
							<option value="{{ duration }}">{{ duration }}</option>
							{% endfor %}
						</select>

						<div class="imprimerCodePromo col-xs-12 col-sm-12 col-md-12 noPadding">
							<h2>MES CODES</h2>
							<div class="col-xs-6 col-sm-6 col-md-6 noPadding">
								 <input type="submit" id="_submit" name="_submit" value="IMPRIMER" />
							</div>
							<div class="col-xs-6 col-sm-6 col-md-6 noPadding">
								<select class="promotion-qt-picker height25">
									{% for number in lists.printNumber %}
									<option value="{{ number }}">{{ number }}</option>
									{% endfor %}
								</select>
							</div>

						</div>
					</div>

					<div class="gestion gestionPromotion col-xs-12 col-sm-12 col-md-12">
						<h2>Vos promotions</h2>
						<div class="col-xs-6 col-sm-6 col-md-6">
							<select class="promotion-qt-picker height40" data-day="{{ today }}">
								{% if bar.promotion.promotionArray[today] is defined %}
								<option value="{{ bar.promotion.promotionArray[today].promotion.value }}">{{ bar.promotion.promotionArray[today].promotion.value }}%</option>
								{% endif %}
									{% for i in 2..6 %}
									    <option value="{{i}}0">{{i}}0%</option>
									{% endfor %}
							</select>
						</div>
						
						<div class="center col-xs-6 col-sm-6 col-md-6">
							<p>En distribuer au maximum</p>
							<input value="{% if bar.promotion.promotionArray[today] is defined %}{{ bar.promotion.promotionArray[today].promotion.quantity }}{% endif %}"/> pour ce jour
							<br>
							<br>
							<p>Condition*</p>
							<select>
							{% for restriction in restrictions %}
							<option value="{{ restriction.value }}">{{ restriction.name }}</option>
							{% endfor %}
							</select>
						</div>
						<h2>Vos happy hours</h2>
						<div class="col-xs-6 col-sm-6 col-md-6">
							<select class="promotion-qt-picker height40" data-day="{{ today }}">
								{% if bar.promotion.promotionArray[today] is defined %}
								<option value="{{ bar.promotion.promotionArray[today]['happy-hour'].value }}">{{ bar.promotion.promotionArray[today]['happy-hour'].value }}%</option>
								{% endif %}
										{% for i in 2..6 %}
										    <option value="{{i}}0">{{i}}0%</option>
										{% endfor %}
							</select>
						</div>
						<div class="center col-xs-6 col-sm-6 col-md-6">
							<p>Horaires des happy hours</p>
							De
							<select class="promotion-qt-picker" data-day="{{ today }}">
								{% if bar.promotion.promotionArray[today] is defined %}
								<option value="{{ bar.promotion.promotionArray[today]['happy-hour'].beginning }}">{{ bar.promotion.promotionArray[today]['happy-hour'].beginning }}h</option>
								{% endif %}
										{% for i in 0..23 %}
										    <option value="{{i}}">{{i}}h</option>
										{% endfor %}
							</select>
							à
							<select class="promotion-qt-picker" data-day="{{ today }}">
								{% if bar.promotion.promotionArray[today] is defined %}
								<option value="{{ bar.promotion.promotionArray[today]['happy-hour'].ending }}">{{ bar.promotion.promotionArray[today]['happy-hour'].ending }}h</option>
								{% endif %}
										{% for i in 0..23 %}
										    <option value="{{i}}">{{i}}h</option>
										{% endfor %}
							</select>

							<br>
							<br>

							<p>Condition*</p>

							<select>
							{% for restriction in restrictions %}
							<option value="{{ restriction.value }}">{{ restriction.name }}</option>
							{% endfor %}
							</select>
						</div>
						
					</div>
					
				</div> -->
				
					<div class="clear"></div>
				{# {{ form_end(edit_form) }} #}
			</div>
			<!-- <div class="infoPromoPro">
				<div class="col-xs-6 col-sm-6 col-md-6">
					<h4>IMPORTANT :</h4>
					<p>
						Je m'engage à offrir les verres promis sans réserves à tout clients muni d'une offre valide.
					</p>
				</div>

				<div class="col-xs-6 col-sm-6 col-md-6">
					<input type="submit" id="_submit" name="_submit" value="VALIDER" />
				</div>
				<div class="clear"></div>
			</div> -->
		</div>
{% endblock %}
